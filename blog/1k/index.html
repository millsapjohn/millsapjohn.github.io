<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="robots" content="index, follow">










<title>An Overdue Update</title>



<meta name="title" content="An Overdue Update">



<meta property="og:type" content="website">
<meta property="og:url" content="https://millsapjohn.github.io/blog/1k/">

<meta property="og:site_name" content="">


<meta property="og:title" content="An Overdue Update">





<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://millsapjohn.github.io/blog/1k/">

<meta property="twitter:title" content="An Overdue Update">




<link rel="canonical" href="https://millsapjohn.github.io/blog/1k/">




<link rel="stylesheet" type="text/css" href="https://speyll.github.io/suCSS/reset-min.css"/>
<link rel="stylesheet" type="text/css" href="https://speyll.github.io/suCSS/suCSS-min.css"/>
<link rel="stylesheet" type="text/css" href="https://millsapjohn.github.io/css/style.css"/>

<script src="https://millsapjohn.github.io/js/script.js" defer></script>


</head>
<body>
      <header>
          

  



      </header>
      <main>
          
<h1>An Overdue Update</h1>



<h1 id="it-s-been-awhile">It's Been Awhile</h1>
<p>What can I say, I get busy. I also have ADHD, so when a project is no longer giving me dopamine, it's hard to give it much attention. Through some combination of kids, friends, other family, work, and not being particularly motivated, I haven't done much work on any of my coding projects for a bit.</p>
<p>However, I've recently been diving back into CivilTools!</p>
<p>This has always been a long term project, I never expected to get everything done in a month or anything like that. So setting it down for a bit wasn't emotionally devastating. Over the last few days I've started putting some work back into it, and made a few cool changes. In addition, I hit the cool milestone of 1k lines of code in the codebase!</p>
<p>That's overall a very small number, as by the end I'm sure it will be many thousands. But hitting 1k felt like a good moment to celebrate, and to update you, my nonexistent readers, on where we're at. So far, here's what I've built/what it can do:</p>
<ul>
<li>the basic plugin menu system is fleshed out, albeit with most menu items not currently doing anything</li>
<li>generate a GeoPackage of its default geometry layers, add them to the layer tree in a group, and set them editable</li>
<li>activate/deactivate drafting mode with a button in the plugin menu, or with a keyboard shortcut</li>
<li>while active, display &quot;CAD-style&quot; crosshairs, whose size is adjustable in QGIS settings</li>
<li>while active, listen to keyboard input, display the typed text next to the crosshairs (akin to AutoCAD's &quot;Dynamic Input&quot;), and when Enter is pressed, clear the &quot;Dynamic Input&quot; and display the entered string on the QGIS Message Bar (a first step toward being able to process commands)</li>
<li>while active, select features from any visible vector layer, and deselect all when Backspace is pressed</li>
</ul>
<p>The GeoPackage generation and feature selection/deselection are the features I've added over the last few days. The Selection MapTool isn't accessible in QGIS' Python API so I had to create it myself; currently it's limited to selection by clicking only, and only allows selection of a single feature, but I'll hopefully be expanding that soon.</p>
<p>Before I get to the meaty work of implementing all the creation/modification tools, I have a few more interface-related tasks I want to tackle. Chief among them is the way the crosshairs are drawn; currently, the crosshairs and pickbox are literally an SVG that QGIS &quot;pastes over&quot; the map canvas. The image goes away when the center of the cursor crosses out of the map canvas, but this means that when the center is near the edge of the canvas, the crosshairs extend outside, over the surrounding panels etc. This doesn't really affect functionality, but it just looks funky. I'm going to explore using QGIS' &quot;rubberband&quot; functionality to dynamically draw the crosshairs/pickbox so they only extend to (at most) the edge of the map canvas. Then I can do away altogether with the SVG method, which is prone to breakage.</p>
<p>After that I'll probably try and implement my first geometry creation tool!</p>
<p>Still a long road ahead of me before this project is ready for release. But here's to 1k lines of code, and here's to the future!</p>


<p class="tags-data">

</p>

      </main>
      <footer>
          <hr>
<div id="footer-container">
  
  <div>
    <p>Theme and color theme licensed under <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Licence_MIT">MIT</a>.<br>
      Built with <a target="_blank" rel="noopener noreferrer" href="https://www.getzola.org">Zola</a> using <a target="_blank" rel="noopener noreferrer" href="https://github.com/Speyll/anemone">anemone</a> theme, <a target="_blank" rel="noopener noreferrer" href="https://speyll.github.io/suCSS/">suCSS</a> framework &amp; <a target="_blank" rel="noopener noreferrer" href="https://github.com/Speyll/veqev">veqev</a>.<br>
    </p>

  </div>
  
</div>

      </footer>
</body>
</html>